# Buff系统需求模块

## 概述

Buff系统提供临时增益效果，通过奖励系统或商店获得。效果明确，持续时间有限，为战斗提供策略性选择。

## 1. Buff分类

### 1.1 攻击类
- **攻击力提升**：攻击力 +50%，持续30秒
- **攻击速度提升**：攻击速度 +40%，持续30秒
- **暴击率提升**：暴击率 +30%，持续20秒

### 1.2 移动类
- **移动速度提升**：移动速度 +50%，持续30秒
- **疾跑**：移动速度 +100%，持续10秒

### 1.3 防御类
- **护盾**：吸收200点伤害，直到护盾被打破
- **伤害减免**：受到伤害减少50%，持续20秒
- **生命恢复**：每秒恢复5%最大生命值，持续10秒

### 1.4 特殊类
- **狂暴**：攻击力+100%，攻击速度+50%，移动速度+50%，持续15秒
- **无敌**：免疫所有伤害，持续5秒
- **时间缓慢**：敌人移动速度-50%，持续10秒

### 1.5 经济类
- **金币加成**：金币掉落 +100%，持续60秒

## 2. Buff获取方式

### 2.1 奖励系统
击杀怪物掉落宝箱，3选1时可能出现Buff选项：
- "力量狂潮"：30秒内攻击力+50%
- "疾风"：30秒内移动速度+50%
- "护盾"：吸收200点伤害

### 2.2 商店系统（可选）
强化站购买临时Buff：
- 价格：50金币
- 立即生效

## 3. Buff规则

### 3.1 叠加规则
- **同类型Buff**：不叠加，取最强效果，持续时间刷新
  - 示例：拥有"攻击力+50%"时再获得"攻击力+30%"，保持50%，时间刷新
- **不同类型Buff**：可同时生效，各自独立计时
  - 示例：可同时拥有"攻击力+50%"和"移动速度+50%"
- **特殊限制**：无敌、狂暴等特殊Buff获得时清除其他Buff

### 3.2 持续时间
- 所有Buff有固定持续时间
- 时间到自动消失
- 剩余时间通过UI显示

### 3.3 效果计算
- 百分比加成直接乘算：攻击力+50% = 基础攻击力 × 1.5
- 避免多层嵌套计算，保持数值明确

## 4. 平衡设计

### 4.1 Buff强度分级

| 稀有度 | 效果强度 | 持续时间 | 出现概率 |
|--------|---------|---------|----------|
| 普通 | 单项+30-50% | 30秒 | 60% |
| 稀有 | 多项提升或单项+100% | 15-20秒 | 30% |
| 传说 | 无敌、狂暴等特殊效果 | 5-15秒 | 10% |

### 4.2 平衡原则
- 强力Buff持续时间短，保持战斗平衡
- 普通Buff持续时间长，提供稳定增益
- 通过稀有度控制获得概率

### 4.3 策略性
- 玩家需要根据战况选择合适的Buff
- 同类Buff不叠加，避免选择重复的Buff
- 特殊Buff效果强大但稀有，提供惊喜时刻

## 5. Buff配置示例

**普通Buff示例**
```
名称: 力量狂潮
类型: 攻击类
效果: 攻击力 +50%
持续时间: 30秒
稀有度: 普通
```

**传说Buff示例**
```
名称: 狂暴
类型: 特殊
效果: 攻击力+100%, 攻击速度+50%, 移动速度+50%
持续时间: 15秒
稀有度: 传说
```

## 6. UI显示（简要）

- 屏幕右上角显示Buff图标和剩余时间
- 最多同时显示5个Buff
- 获得Buff时图标飞入+音效
- Buff即将结束时图标闪烁提示

## 7. 技术实现（简要）

- 使用Buff管理器管理所有激活的Buff
- 使用ScriptableObject配置Buff数据
- Buff效果通过修改实体属性实现
- 每个Buff绑定特效和音效资源

