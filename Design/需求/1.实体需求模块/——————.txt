# 实体需求模块

## 1. 统一实体设计框架

### 1.1 实体基础结构
- 游戏中所有实体（英雄、敌人、城堡）共享基础实体框架
- 实体共有的基础属性：ID、类型、生命值、攻击力、护甲
- 实体共有的基础状态：正常、攻击中、受伤、死亡
- 实体共有的生命周期：出现、活动、消失

### 1.2 实体类型定义
- 基础实体类型：英雄、敌人、城堡
- 类型决定实体的基本行为模式和功能
- 类型特性：
  * 英雄：可玩家控制、全能型
  * 敌人：AI控制、进攻型
  * 城堡：固定位置、防御型

### 1.3 属性系统
- 共享属性：生命值、攻击力、护甲
- 可选属性：攻击速度、移动速度（城堡不适用）
- 属性可通过游戏过程中的升级和奖励提升
- 不同类型实体的属性初始值和上限有明确区分

### 1.4 状态系统
- 基础状态：正常、攻击中、受伤、死亡
- 状态变化需有明确的视觉和音效反馈
- 状态会影响实体的行为表现
- 特殊状态可根据实体类型扩展

## 2. 实体行为设计

### 2.1 移动行为
- 基础设计：
  * 可移动实体（英雄、敌人）：支持前进、后退、转向
  * 固定实体（城堡）：不支持移动
- 控制方式：
  * 英雄：玩家直接控制
  * 敌人：AI自动控制，向城堡移动
  * 城堡：固定位置

### 2.2 战斗行为
- 基础攻击机制：所有实体都具备攻击能力
- 攻击方式差异：
  * 英雄：近战或远程，由玩家控制
  * 敌人：根据敌人类型有不同攻击方式
  * 城堡：固定位置远程攻击
- 共有特性：
  * 攻击判定范围
  * 伤害计算（攻击力-护甲）
  * 攻击视觉效果

### 2.3 技能设计
- 统一技能框架：
  * 普通攻击：所有实体共有
  * 特殊技能：根据实体类型定制
- 技能效果类型：直接伤害、范围伤害、状态效果、增益效果
- 技能差异：
  * 英雄：完整技能组（普攻、小招、大招），可升级
  * 敌人：根据敌人等级拥有不同数量技能
  * 城堡：防御型技能为主

### 2.4 AI行为
- 统一AI框架：
  * 目标选择
  * 行动决策
  * 攻击判定
- AI差异：
  * 敌人AI：主动进攻，向城堡移动
  * 城堡AI：被动防御，攻击范围内敌人
  * 英雄：无AI，由玩家控制

## 3. 实体特化设计

### 3.1 英雄特化
- 基于统一实体框架的扩展
- 特有系统：装备系统、成长系统
- 控制方式：玩家直接控制
- 详细设计将在英雄模块文档中定义

### 3.2 敌人特化
- 基于统一实体框架的扩展
- 特有系统：敌人分级（普通、精英、Boss）
- 控制方式：AI自动控制
- 详细设计将在敌人模块文档中定义

### 3.3 城堡特化
- 基于统一实体框架的扩展
- 特有系统：防御升级系统
- 控制方式：自动防御AI
- 详细设计将在城堡模块文档中定义

## 4. 实体交互设计

### 4.1 统一交互机制
- 碰撞检测：适用于所有实体
- 伤害系统：统一的伤害计算公式
- 状态传递：实体间可传递状态效果

### 4.2 伤害系统
- 统一伤害计算：实际伤害 = 攻击力 - 护甲（有最小伤害保底）
- 暴击系统：一定几率造成更高伤害
- 伤害反馈：受击实体应有明显视觉和音效反馈
- 伤害类型：物理伤害、技能伤害
- 伤害减免：某些特殊状态可减免伤害

### 4.3 击杀奖励
- 统一奖励机制：击杀敌人获得奖励
- 奖励类型：
  * 经验值：根据敌人类型给予不同经验
  * 宝箱掉落：一定几率掉落，提供3选1奖励
  * 特殊奖励：Boss击杀后的固定奖励

## 5. 实体表现设计

### 5.1 统一视觉框架
- 实体模型：遵循统一的美术风格
- 基础动画集：所有实体共享的基础动画
- 特效系统：统一的特效表现语言
- 根据实体类型的视觉差异化

### 5.2 音效表现
- 统一音效系统：基础音效库
- 共享音效：基础攻击、受伤、死亡音效
- 特化音效：根据实体类型和技能的特殊音效

### 5.3 界面表现
- 统一UI框架：
  * 生命值显示：所有实体通用
  * 状态图标：通用状态图标系统
  * 技能冷却：适用于有技能的实体
- 差异化标识：区分敌友的明确标识 